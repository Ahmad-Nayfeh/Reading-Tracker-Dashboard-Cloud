import streamlit as st
import db_manager as db
import auth_manager

st.set_page_config(
    page_title="ุนู ุงูุชุทุจูู",
    page_icon="โ",
    layout="wide"
)

# This CSS snippet enforces RTL and adds custom styles for the page
st.markdown("""
    <style>
        /* Main app container */
        .stApp {
            direction: rtl;
        }
        /* Sidebar */
        [data-testid="stSidebar"] {
            direction: rtl;
        }
        /* Ensure text alignment is right for various elements */
        h1, h2, h3, h4, h5, h6, p, li, .st-bk, .st-b8, .st-b9, .st-ae {
            text-align: right !important;
        }
        /* Fix for radio buttons label alignment */
        .st-b8 label {
            text-align: right !important;
            display: block;
        }
        /* Fix for selectbox label alignment */
        .st-ae label {
            text-align: right !important;
            display: block;
        }
        
        /* Custom styles for the expander to make it look like a section card */
        .st-expander {
            border: 1px solid #e0e0e0 !important;
            border-radius: 12px !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05) !important;
            margin-bottom: 20px !important;
        }
        .st-expander header {
            font-size: 1.5em !important;
            font-weight: bold !important;
            color: #2980b9 !important;
            padding-top: 15px !important;
            padding-bottom: 15px !important;
        }
        .st-expander [data-testid="stExpanderDetails"] {
            padding: 0 20px 20px 20px !important;
        }
        .st-expander [data-testid="stExpanderDetails"] p, 
        .st-expander [data-testid="stExpanderDetails"] li {
            font-size: 1.1em !important;
            line-height: 1.8 !important;
        }
        .st-expander [data-testid="stExpanderDetails"] h4 {
            color: #2c3e50;
            margin-top: 15px;
        }
    </style>
""", unsafe_allow_html=True)


# --- UNIFIED AUTHENTICATION BLOCK ---
creds = auth_manager.authenticate()
user_id = st.session_state.get('user_id')

if not creds or not user_id:
    st.error("ูุตุงุฏูุฉ ุงููุณุชุฎุฏู ูุทููุจุฉ. ูุฑุฌู ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุชุณุฌูู ุงูุฏุฎูู.")
    st.stop()
# -----------------------------------------


st.title("โ ุนู ุชุทุจูู ูุงุฑุงุซูู ุงููุฑุงุกุฉ")
st.markdown("---")
st.markdown("ุฃููุงู ุจู ูู ุงูุฏููู ุงูุดุงูู! ููุงุ ุณุชุฌุฏ ูู ูุง ุชุญุชุงุฌ ููุนุฑูุชู ุญูู ููููุฉ ุนูู ุงูุชุทุจููุ ูู ููุณูุฉ ุงูููุงุท ุฅูู ุดุฑุญ ุงูุฃููุงุจ ูุงูุฃุฎุจุงุฑ.")


# --- Section 1: Philosophy of Points ---
with st.expander("๐ฏ ูุธุงู ุงููุณุงุจูุงุช ูุงูููุงุท: ููุณูุฉ ุงูุชุญููุฒ ุงูุฐูู", expanded=True):
    st.markdown("""
    ูุฐุง ูู ููุจ ุงููุดุฑูุน ุงููุงุจุถุ ููู ูุตูู ูุชุญููู ุชูุงุฒู ุฏููู ุจูู ุงููุฑุงุกุฉ ุงูุฌูุงุนูุฉ ุงูููุธูุฉ ูุงููุฑุงุกุฉ ุงููุฑุฏูุฉ ุงูุญุฑุฉุ ูุฎูู ุฌู ุญูุงุณู ููุฑู. ูููู ุงููุธุงู ุนูู ุงูุฃููุงุฑ ุงูุชุงููุฉ:

    #### ุญุฑูุฉ ุงูุงุฎุชูุงุฑ ูู ุงูุฃุณุงุณ
    ูุง ููุฌุฏ ูุณุงุฑ ุฅูุฒุงูู. ุงูุนุถู ูุฏูู ุงูุญุฑูุฉ ุงููุงููุฉ ููุฎุชุงุฑ ุงููุณุงุฑ ุงูุฐู ููุงุณุจู:
    - **ูุณุงุฑ ุงููุชุงุจ ุงููุดุชุฑู:** ููุฑุฃ ุงููุชุงุจ ุงูุฐู ุชู ุงุฎุชูุงุฑู ููุชุญุฏู. ุฅููุงุคู ูููุญู **ุฏูุนุฉ ูุงุฆูุฉ ูู ุงูููุงุท** ุชูุฏูุฑูุง ูุงูุชุฒุงูู ูุชููุฆุชู ูุฌูุณุฉ ุงูููุงุด.
    - **ูุณุงุฑ ุงููุชุงุจ ุงูุญุฑ:** ููุฑุฃ ุฃู ูุชุงุจ ุขุฎุฑ ูู ุงุฎุชูุงุฑู. ููุงุ ุชุชุถุงุนู ููุงุทู ุจูุงุกู ุนูู **ููุช ุงููุฑุงุกุฉ**ุ ููู ููุงุท ุฅููุงุก ุงููุชุงุจ ุชููู ุฃูู.
    
    ููููู ููุนุถู ุฃู ููุดู ุจุงููุณุงุฑูู ูุนูุง ูู ููุช ูุงุญุฏุ ุฃู ุญุชู ููุฑุฃ ุนุฏุฉ ูุชุจ ุญุฑุฉ! ุงูุฃูุฑ ูุชุฑูู ูู ูููููุชู.

    #### ููุทู ุงูููุงุท ุงูุฐูู ููููุงุฒูุฉ
    - **ููุชุดุฌูุน ุนูู ุงูุงูุชุฒุงู:** ููุงุท ุฅููุงุก ุงููุชุงุจ ุงููุดุชุฑู **ุฃุนูู ุจูุซูุฑ**.
    - **ูุชุนุฒูุฒ ุงููุดุงุฑูุฉ ุงููุฌุชูุนูุฉ:** ุญุถูุฑ ุฌูุณุฉ ุงูููุงุด ุงูุฎุงุตุฉ ุจุงููุชุงุจ ุงููุดุชุฑู ูููุญ ููุงุทูุง ุฅุถุงููุฉ.
    - **ูุชุดุฌูุน ุงููุฑุงุกุฉ ุงูุนูููุฉ:** ุฅุถุงูุฉ **ุงูุชุจุงุณ** ูู ูุชุงุจ ููุฑุฃู ุงูุนุถู ูููุญู ููุงุทูุง ุฅุถุงููุฉุ ููุง ูุญูุฒู ุนูู ุงูุชูุงุนู ูุน ุงููุต ุจุดูู ุฃุนูู.

    #### ุฏูุฑุฉ ุญูุงุฉ ุงูุชุญุฏูุงุช
    - **ุจุฏุงูุฉ ุฌุฏูุฏุฉ ููุฌููุน:** ูู ูุงุฑุงุซูู ูุจุฏุฃ ูููุงุทู ุตูุฑุ ููุง ูุนุทู ูุฑุตุฉ ูุชุฌุฏุฏุฉ ููููุงูุณุฉ.
    - **ููุงูุฃุฉ ุงูุงุฌุชูุงุฏ ุงููุณุชูุฑ:** ูุชู ุชุฌููุน ูู ุงูููุงุท ูู ููุญุฉ ุงูุชุญูู ุงูุนุงูุฉ ูุชูุฏูุฑ ุงูุฃุจุทุงู ุงูุญูููููู ุนูู ุงููุฏู ุงูุทููู.
    - **ุฌูุงุฆุฒ ููุฏุงูุง:** ูู ููุงูุฉ ูู ุชุญุฏูุ ูููู ุชูุฏูู ุฌูุงุฆุฒ ูุฃุตุญุงุจ ุงููุฑุงูุฒ ุงูุนููุงุ ูุซู ุฃู ูููู ุงููุงุฆุฒ ุจุงุฎุชูุงุฑ ุงููุชุงุจ ุงููุดุชุฑู ูููุงุฑุงุซูู ุงููุงุฏู.
    """)

# --- Section 2: Hall of Fame Explained ---
with st.expander("๐ ูู ุดูุฑุฉ ุงูุฃุจุทุงู: ุดุฑุญ ููุญุฉ ุงูุดุฑู"):
    st.markdown("""
    ููุญุฉ ุดุฑู ุงูุฃุจุทุงู ูู ุงุญุชูุงุก ุจุงูุฅูุฌุงุฒุงุช ุงููุชููุฒุฉ ูู ุงููุงุฑุงุซูู. ุฅููู ูุนูู ูู ููุจ:
    - **๐ง ุงูุนูู ุงููุฏุจูุฑ:** ููููุญ ููุนุถู ุงูุฐู ุฌูุน **ุฃุนูู ุนุฏุฏ ูู ุงูููุงุท** ูู ุงููุฌููุน ุงูููู.
    - **โณ ุณูุฏ ุงูุณุงุนุงุช:** ููููุญ ููุนุถู ุงูุฐู ุณุฌู **ุฃุทูู ููุช ูุฑุงุกุฉ ุฅุฌูุงูู** (ูุฌููุน ูุฑุงุกุฉ ุงููุชุจ ุงููุดุชุฑูุฉ ูุงููุชุจ ุงูุญุฑุฉ).
    - **๐ ุงูุฏูุฏุงู ุงููุงุฑุฆ:** ููููุญ ููุนุถู ุงูุฐู **ุฃููู ุฃูุจุฑ ุนุฏุฏ ูู ุงููุชุจ** (ูุดุชุฑูุฉ ูุญุฑุฉ).
    - **๐ ุตุงุฆุฏ ุงูุฏุฑุฑ:** ููููุญ ููุนุถู ุงูุฐู ุฃุฑุณู **ุฃูุจุฑ ุนุฏุฏ ูู ุงูุงูุชุจุงุณุงุช**.
    - **๐โโ๏ธ ุตุงุญุจ ุงูููููุณ ุงูุทููู:** ููููุญ ููุนุถู ุงูุฃูุซุฑ ุซุจุงุชูุง ูุงูุชุฒุงููุงุ ููู ูู ุณุฌู ุงููุฑุงุกุฉ ูู **ุฃูุจุฑ ุนุฏุฏ ูู ุงูุฃูุงู ุงููุฎุชููุฉ**.
    - **โก ุงูุนุฏูุงุก ุงูุณุฑูุน:** ููููุญ ููุนุถู ุงูุฐู ุณุฌู **ุฃุนูู ุนุฏุฏ ูู ุฏูุงุฆู ุงููุฑุงุกุฉ ูู ููู ูุงุญุฏ**.
    - **โญ ูุฌู ุงูุฃุณุจูุน:** ููููุญ ููุนุถู ุงูุฐู ุณุฌู **ุฃุนูู ูุฌููุน ุฏูุงุฆู ูุฑุงุกุฉ ุฎูุงู ุฃุณุจูุน ูุงุญุฏ**.
    - **๐ช ุนููุงู ุงูุดูุฑ:** ููููุญ ููุนุถู ุงูุฐู ุณุฌู **ุฃุนูู ูุฌููุน ุฏูุงุฆู ูุฑุงุกุฉ ุฎูุงู ุดูุฑ ูุงุญุฏ**.
    """)

# --- Section 3: News Ticker Explained ---
with st.expander("๐ฐ ูุดุฑุฉ ุงููุงุฑุงุซูู: ููู ุชุนูู \"ุขุฎุฑ ุงูุฃุฎุจุงุฑ\"ุ"):
    st.markdown("""
    ุดุฑูุท ุงูุฃุฎุจุงุฑ ูู ูุงูุฐุชู ุนูู ุฃุญุฏุซ ุงููุณุชุฌุฏุงุช ูู ุงููุงุฑุงุซููุ ููุนูู ุจุทุฑููุชูู ูุฎุชููุชูู ุญุณุจ ุงูุตูุญุฉ:

    #### ูู ููุญุฉ ุงูุชุญูู ุงูุนุงูุฉ
    - ูุนุฑุถ ุงูุดุฑูุท ููุง **ุงูุชุบููุฑุงุช ุงูุชู ุทุฑุฃุช ุนูู ููุญุฉ ุดุฑู ุงูุฃุจุทุงู ุฎูุงู ุขุฎุฑ 7 ุฃูุงู**.
    - ูููู ุงููุธุงู ุจููุงุฑูุฉ ูุงุฆูุฉ ุงูุฃุจุทุงู ุงูุญุงููุฉ ุจูุงุฆูุชูู ูุจู ุฃุณุจูุนุ ููุฑุตุฏ ุฃู ุชุบููุฑุงุช ูุซู:
        - ุตุนูุฏ ุจุทู ุฌุฏูุฏ ุฅูู ุงูุตุฏุงุฑุฉ ูู ุฃุญุฏ ุงูุฃููุงุจ.
        - ุงูุถูุงู ููุงูุณ ุฌุฏูุฏ ููุดุงุฑูุชู ุงูููุจ ูุน ุจุทู ุญุงูู.
        - ุธููุฑ ุจุทู ูุฃูู ูุฑุฉ ูู ููุจ ูุงู ุดุงุบุฑูุง.
    - ุงููุฏู ูู ุชุณููุท ุงูุถูุก ุนูู ุงูุฏููุงููููุฉ ูุงูููุงูุณุฉ ุนูู ูุณุชูู ุงููุงุฑุงุซูู ููู.

    #### ูู ุตูุญุฉ ุชุญูููุงุช ุงูุชุญุฏูุงุช
    - ูุฑูุฒ ุงูุดุฑูุท ููุง ุนูู **ุฃุญุฏุงุซ ุงูุชุญุฏู ุงููุญุฏุฏ ููุท**.
    - ูุนุฑุถ ุงูุฃุฎุจุงุฑ ุจุชุณูุณู ุฒูููุ ูุน ุงูุชุฑููุฒ ุนูู ุขุฎุฑ ุงููุณุชุฌุฏุงุชุ ูุซู:
        - ูู ูู ุฃูู ุนุถู ุฃููู ุงููุชุงุจ ุงููุดุชุฑู.
        - ูู ูู ุงูุฃุนุถุงุก ุงูุขุฎุฑูู ุงูุฐูู ุฃูููุง ุงููุชุงุจุ ููุชู.
        - ุจุนุฏ ุงูุชูุงุก ุงูุชุญุฏูุ ูุชู ุนุฑุถ ุฎุจุฑ ุนู ุงูุฃุนุถุงุก ุงูุฐูู ุญุถุฑูุง ุฌูุณุฉ ุงูููุงุด.
    - ุงููุฏู ูู ูุชุงุจุนุฉ ุงูุชูุฏู ูุงูุฅูุฌุงุฒุงุช ุฏุงุฎู ูู ุชุญุฏู ุนูู ุญุฏุฉ.
    """)

# --- Section 4: Q&A ---
with st.expander("๐ค ุฃุณุฆูุฉ ุดุงุฆุนุฉ"):
    st.markdown("""
    #### ููู ูุชู ุญุณุงุจ ุงูููุงุท ุจุงูุถุจุทุ
    ูุชู ุญุณุงุจ ุงูููุงุท ุจูุงุกู ุนูู ูุธุงู ุงูููุงุท ุงูุงูุชุฑุงุถู ุงูุฐู ููููู ุฑุคูุชู ูุชุนุฏููู. ุจุดูู ุนุงูุ ุชุญุตู ุนูู ููุงุท ููุงุจู:
    - ุงูุฏูุงุฆู ุงูุชู ุชูุฑุคูุง (ูููุชุจ ุงููุดุชุฑูุฉ ูุงููุชุจ ุงูุญุฑุฉ).
    - ุฅุฑุณุงู ุงูุงูุชุจุงุณุงุช.
    - ุฅููุงุก ุงููุชุจ.
    - ุญุถูุฑ ุฌูุณุงุช ุงูููุงุด.
    ููููู ูุฑุงุฌุนุฉ ูุธุงู ุงูููุงุท ุงูุญุงูู ูู ุตูุญุฉ "ุงูุฅุฏุงุฑุฉ ูุงูุฅุนุฏุงุฏุงุช".

    #### ูู ูููููู ุชุนุฏูู ูุธุงู ุงูููุงุทุ
    ูุนู! ููุฏูุฑ ูููุงุฑุงุซููุ ููููู ุงูุฐูุงุจ ุฅูู ุตูุญุฉ "ุงูุฅุฏุงุฑุฉ ูุงูุฅุนุฏุงุฏุงุช" ูุชุนุฏูู ูุธุงู ุงูููุงุท ุงูุงูุชุฑุงุถู ุงูุฐู ุณูุทุจู ุนูู ุงูุชุญุฏูุงุช ุงูุฌุฏูุฏุฉ. ููุง ููููู ุชุนููู ูุธุงู ููุงุท ุฎุงุต ููุฎุชูู ููู ุชุญุฏู ุนูู ุญุฏุฉ ุนูุฏ ุฅูุดุงุฆู.

    #### ูุงุฐุง ูู ูุณูุช ุชุณุฌูู ูุฑุงุกุชู ูููู ูุงุ
    ูุง ุชููู. ูููู ููุฏูุฑ ุงููุงุฑุงุซูู (ุฃูุช) ุงูุฐูุงุจ ุฅูู ุตูุญุฉ "ุงูุฅุฏุงุฑุฉ ูุงูุฅุนุฏุงุฏุงุช"ุ ููู ุซู ุฅูู ุชุจููุจ "ูุญุฑุฑ ุงูุณุฌูุงุช". ููุงูุ ููููู ุชุนุฏูู ุฃู ุณุฌู ุณุงุจู ูุฃู ุนุถูุ ุณูุงุก ุจุชุบููุฑ ูุฏุฉ ุงููุฑุงุกุฉ ุฃู ุฅุถุงูุฉ ุฅูุฌุงุฒ ุชู ูุณูุงูู. ุจุนุฏ ุงูุญูุธุ ูุฌุจ ุฅุนุงุฏุฉ ูุฒุงููุฉ ุงูุจูุงูุงุช ูุชุนูุณ ุงูุชุบููุฑุงุช.
    """)

# --- Section 5: About the Developer ---
st.markdown("---")
with st.expander("๐งโ๐ป ุนู ุงููุทูุฑ"):
    st.markdown("""
    **ุงูุงุณู:** ุงุญูุฏ ูุงููู
    
    **ุงููุฏู ูู ุงููุดุฑูุน:** ููุฏู ูุฐุง ุงููุดุฑูุน ุฅูู ุชูููุฑ ุฃุฏุงุฉ ุนุตุฑูุฉ ููุญูุฒุฉ ูููุฌููุนุงุช ุงููุฑุงุฆูุฉ ูู ุงููุทู ุงูุนุฑุจูุ ูููุณุงููุฉ ูู ุชุนุฒูุฒ ุซูุงูุฉ ุงููุฑุงุกุฉ ูุฌุนููุง ุชุฌุฑุจุฉ ุชูุงุนููุฉ ูููุชุนุฉ.
    
    #### **ููุชูุงุตู ูุงูุฏุนู ุงูููู**
    
    ุฅุฐุง ูุงุฌูุชู ุฃู ูุดููุฉ ุชูููุฉุ ุฃู ูุงู ูุฏูู ุงูุชุฑุงุญ ูุชุทููุฑ ุงูุชุทุจููุ ููุง ุชุชุฑุฏุฏ ูู ุงูุชูุงุตู ูุนู ุนุจุฑ ุฃุญุฏ ุงูุญุณุงุจุงุช ุงูุชุงููุฉ:

    - **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:** [ahmadnayfeh2000@gmail.com](mailto:ahmadnayfeh2000@gmail.com)
    - **Portfolio:** [ahmadnayfeh.vercel.app](https://ahmadnayfeh.vercel.app/)
    - **LinkedIn:** [in/ahmad-nayfeh2000](https://www.linkedin.com/in/ahmad-nayfeh2000/)
    - **GitHub (ูููุทูุฑูู):** [Ahmad-Nayfeh](https://github.com/Ahmad-Nayfeh)
    
    ูุณุนุฏูู ุฏุงุฆูุงู ุชููู ููุงุญุธุงุชูู ูุงูุชุฑุงุญุงุชูู ูุฌุนู ุชุฌุฑุจุฉ ูุงุฑุงุซูู ุงููุฑุงุกุฉ ุฃูุถู ููุฌููุน.
    """)

